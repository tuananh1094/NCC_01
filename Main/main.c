/*****************************************************************************
  *Ten Tep          :     main.c
  *Ngay             :     24/12/2016
  *Tac Gia          :     Nguyen Tuan Anh
  *Cong Ty          :     MCA
  *Webside          :     mca.vn
  *Phien Ban        :     V1.0
  *Tom Tat          :     Lap trinh su dung GPIO trong STM8S105C4T6
  ******************************************************************************/

#include "main.h"
#include "var.h"

#if (__MAIN_H!=24122016)
    #error "Include Sai File main.h"
#endif

void main(void)
{
/********************************* SYSTEM *************************************/
    CLK_HSICmd(ENABLE);                        // Cho phep su dung nguon Clock HSI
    CLK_SYSCLKConfig(CLK_PRESCALER_HSIDIV1);   // Su dung nguon Clock co F = 16MHz  					
/*________________________________ GPIO ___________________________________*/
    GPIO_Configuration();
    
/********************************* TIMER *************************************/
/*________________________________ TIMER1 ___________________________________*/ 
    
/*________________________________ TIMER2 ___________________________________*/
    TIM2_Configuration();
/*________________________________ TIMER3 ___________________________________*/

/*________________________________ TIMER4 ___________________________________*/
    TIM4_Configuration();	

/********************************* IWDG ***************************************/   
    IWDG_Configuration();
 
/********************************* EEPROM *************************************/   
    EEPROM_Configuration();   
/*_________________________________ USER _____________________________________*/
    
	enableInterrupts();
	
	readRom();
	CTRP = LED_ON;
	led7OutTime(0, 0);
    while(1)
	{
		__mainProcess();
    }
}

/*------------------------------KET THUC FILE-------------------------------
 _________________________________MCA Team__________________________________*/ 